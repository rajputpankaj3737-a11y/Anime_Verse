<!doctype html>
<html lang="en">
<head>
    <script>
  // Step 2: Auth Guard
  (function() {
    const user = localStorage.getItem('kitsune_user');
    if (!user) {
      // Not logged in ‚Üí redirect to signin page
      window.location.href = 'signin.html';
    }
  })();
</script>
<script>
  // Prevent two-finger swipe navigation on trackpads / touch devices
  window.addEventListener('wheel', (e) => {
    if (e.deltaX !== 0 && e.ctrlKey === false) {
      e.preventDefault();
    }
  }, { passive: false });
</script>
<script>
  let startX = 0;
  window.addEventListener('touchstart', e => {
    startX = e.touches[0].clientX;
  });
  window.addEventListener('touchmove', e => {
    const diffX = e.touches[0].clientX - startX;
    if (Math.abs(diffX) > 80) e.preventDefault(); // prevent swipe nav gesture
  }, { passive: false });
</script>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Kitsune ‚Äî Home</title>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#0f1724;
      --card:#0b1220;
      --muted:#98a0b3;
      --accent1:#ff6b81;
      --accent2:#7c5cff;
      --glass: rgba(255,255,255,0.04);
      --radius:14px;
      --max-width:1200px;
    }

    /* Reset */
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(180deg,#071023 0%, #081126 60%);
      color:#e6eef8;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.4;
      overflow-x:hidden;
    }

    .wrap{max-width:var(--max-width);margin:0 auto;padding:18px}

    /* Header */
    header{
      display:flex;align-items:center;gap:18px;
      justify-content:space-between;
      padding:14px 0;
    }
    .brand{
      display:flex;align-items:center;gap:12px;
    }
    .logo-img{
      width:52px;height:52px;border-radius:10px;overflow:hidden;
      background:linear-gradient(90deg,var(--accent1),var(--accent2));
      display:flex;align-items:center;justify-content:center;
      box-shadow:0 8px 20px rgba(124,92,255,0.12);
      flex-shrink:0;
    }
    .logo-img img{width:100%;height:100%;object-fit:cover;display:block}
    .brand-title{font-weight:800;font-size:18px}
    .brand-sub{font-size:12px;color:var(--muted);font-weight:600}

    /* nav */
    nav{display:flex;gap:12px;align-items:center}
    .search {
      display:flex;align-items:center;gap:10px;background:var(--glass);
      padding:8px 12px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);
      min-width:220px;
    }
    .search input{
      background:transparent;border:0;outline:0;color:inherit;font-size:14px;
    }
    .icons{display:flex;gap:12px;align-items:center}
    .icon-btn{
      width:40px;height:40px;border-radius:10px;background:var(--glass);display:grid;place-items:center;border:1px solid rgba(255,255,255,0.03);
    }

    .hamburger{
      display:flex;flex-direction:column;gap:4px;padding:8px;border-radius:8px;
      background:var(--glass);cursor:pointer;border:1px solid rgba(255,255,255,0.03);
    }
    .hamburger span{width:18px;height:2px;background:#e6eef8;display:block;border-radius:2px}

    /* Hero */
    .hero{
      margin-top:18px;border-radius:16px;overflow:hidden;position:relative;
      background:
        linear-gradient(180deg, rgba(11,18,32,0.5), rgba(11,18,32,0.5)),
        url('assets/images/hero.jpg') center/cover no-repeat;
      min-height:360px;display:flex;align-items:center;
    }
    .hero-inner{
      width:100%;display:flex;justify-content:space-between;align-items:center;padding:36px;
    }
    .hero-left{max-width:680px}
    .kicker{display:inline-block;background:rgba(255,255,255,0.04);padding:8px 12px;border-radius:999px;color:var(--accent1);font-weight:800;margin-bottom:12px}
    .hero h1 {
  font-size: 36px;
  line-height: 1.05;
  margin-bottom: 12px;
  background: linear-gradient(90deg, var(--accent1), var(--accent2));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  -webkit-text-fill-color: transparent;
}
    .hero p{color:var(--muted);margin-bottom:18px}
    .hero-ctas{display:flex;gap:12px;align-items:center}
    .btn-primary{padding:10px 16px;border-radius:12px;border:none;background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#071023;font-weight:800;cursor:pointer}
    .btn-ghost{padding:10px 14px;border-radius:12px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:var(--muted);cursor:pointer}

    /* Featured grid */
    section.cards{margin-top:22px}
    .section-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
    .section-head h2{font-size:18px}
    .cards-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;overflow:hidden;border:1px solid rgba(255,255,255,0.03)}
    .thumb{height:200px;background-size:cover;background-position:center}
    .card-body{padding:12px}
    .card-title{font-weight:700;margin-bottom:6px;font-size:15px}
    .card-meta{display:flex;justify-content:space-between;align-items:center;color:var(--muted);font-size:13px}
    .pill{background:rgba(255,255,255,0.03);padding:6px 8px;border-radius:999px;font-size:12px}

    /* rating stars */
    .rating{display:flex;gap:6px;align-items:center}
    .stars{color:#ffb86b;font-weight:800}

    /* side drawer */
    .drawer{
      position:fixed;top:0;right:-320px;width:320px;height:100%;background:#071023;padding:18px;
      box-shadow:-20px 0 40px rgba(2,6,23,0.6);transition:right 0.36s cubic-bezier(.2,.9,.2,1);z-index:1200;
    }
    .drawer.open{right:0}
    .drawer h3{margin-bottom:12px}
    .drawer .option{padding:12px;border-radius:10px;background:var(--card);margin-bottom:8px;display:flex;justify-content:space-between;align-items:center}
    .drawer .switch{display:flex;gap:8px}

    /* footer */
    footer{margin-top:30px;padding:20px 0;text-align:center;color:var(--muted)}

    /* Logo glow + menu animation (option 4) */
    .brand-title, nav ul {opacity:0;transform:translateY(-10px)}
    nav ul{display:flex;gap:18px;list-style:none}
    @keyframes logoGlow {
      0%{opacity:0;transform:scale(.96);text-shadow:none}
      50%{opacity:1;transform:scale(1.04);text-shadow:0 0 12px var(--accent1), 0 0 24px var(--accent2)}
      100%{opacity:1;transform:scale(1);text-shadow:0 0 8px var(--accent1)}
    }
    @keyframes menuSlide{from{opacity:0;transform:translateY(-18px)}to{opacity:1;transform:translateY(0)}}
    body.loaded .brand-title{animation:logoGlow 1.1s ease forwards}
    body.loaded nav ul li{animation:menuSlide .45s ease forwards}
    nav ul li:nth-child(1){animation-delay:1s}
    nav ul li:nth-child(2){animation-delay:1.15s}
    nav ul li:nth-child(3){animation-delay:1.3s}
    nav ul li:nth-child(4){animation-delay:1.45s}
    nav ul li:nth-child(5){animation-delay:1.6s}

    /* responsive */
    @media (max-width:1000px){ .cards-grid{grid-template-columns:repeat(3,1fr)} }
    @media (max-width:760px){
      .hero{min-height:300px}
      .cards-grid{grid-template-columns:repeat(2,1fr)}
      .logo-img{width:44px;height:44px}
    }
    @media (max-width:420px){
      .cards-grid{grid-template-columns:1fr}
      .hero-inner{flex-direction:column;align-items:flex-start;padding:20px}
      .hero img{display:none}
      .search{min-width:140px}
      header{gap:10px}
      .hamburger{order:3}
    }

    /* subtle hover */
    .card:hover{transform:translateY(-6px);transition:transform .22s ease;box-shadow:0 12px 34px rgba(2,6,23,0.6)}
    .btn-primary:hover{transform:translateY(-4px);transition:transform .18s ease}
  </style>
</head>
<body>

  <!-- Side drawer (2D / 3D options) -->
  <div class="drawer" id="drawer" aria-hidden="true">
    <h3>Animation Type</h3>
    <div class="option">
      <div>2D Animation</div>
      <div class="switch"><input id="opt2d" type="radio" name="anim" checked> </div>
    </div>
    <div class="option">
      <div>3D Animation</div>
      <div class="switch"><input id="opt3d" type="radio" name="anim"> </div>
    </div>
    <div style="margin-top:16px;color:var(--muted);font-size:13px">Tip: Choose 3D for donghua-heavy sections.</div>
  </div>

  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo-img" id="logoBox">
          <!-- If you have a small logo file, put it at assets/images/logo-small.png -->
          <img src="Image & logo/WhatsApp Image 2025-10-18 at 15.35.48_9c288ee5.jpg" alt="Kitsune" onerror="this.style.display='none'">
        </div>
        <div>
          <div class="brand-title">Kitsune</div>
          <div class="brand-sub">Anime ‚Ä¢ Donghua ‚Ä¢ Community</div>
        </div>
      </div>

      <nav>
        <ul>
          <li><a href="#">Home</a></li>
          <li><a href="#">Explore</a></li>
          <li><a href="#">Community</a></li>
          <li><a href="#">Profile</a></li>
          <li><a href="#" id="genreToggle">Genres</a></li>
        </ul>
      </nav>

      <div style="display:flex;align-items:center;gap:12px">
        <div class="search" role="search">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden><path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
          <input id="searchInput" placeholder="Search anime, e.g. 'Shounen'">
        </div>

        <div class="icons">
          <div class="icon-btn" title="Explore" id="exploreBtn">üîç</div>
          <div class="icon-btn" title="Community">üí¨</div>
          <div class="icon-btn" id="profileBtn" title="Profile">üë§</div>
          <div class="hamburger" id="hamburger" aria-label="menu" title="Menu">
            <span></span><span></span><span></span>
          </div>
        </div>
      </div>
    </header>

    <!-- Hero -->
    <section class="hero" role="banner" aria-label="Featured">
      <div class="hero-inner">
        <div class="hero-left">
          <div class="kicker">Featured</div>
          <h1>Welcome to Kitsune ‚Äî your anime gateway</h1>
          <p>Discover trending anime and donghua. Browse by genre, see community ratings, and start watching instantly.</p>
          <div class="hero-ctas">
            <button class="btn-primary" onclick="location.href='#featured'">Browse Featured</button>
            <button class="btn-ghost" onclick="document.getElementById('searchInput').focus()">Search</button>
          </div>
        </div>

        <!-- optional decorative image -->
        <div style="min-width:240px;max-width:360px;display:flex;justify-content:center">
          <!-- If you want a hero image on the right, put it here (otherwise background does the job) -->
          <img src="assets/images/hero-thumb.png" alt="" style="width:320px;border-radius:12px;box-shadow:0 20px 40px rgba(2,6,23,0.6)" onerror="this.style.display='none'">
        </div>
      </div>
    </section>

    <!-- Featured -->
    <section class="cards" id="featured" aria-label="Trending Now">
      <div class="section-head">
        <h2>Trending Now</h2>
        <div style="color:var(--muted)">Top picks from our community</div>
      </div>

      <div class="cards-grid" id="grid">
        <!-- cards are generated by JS below; placeholders added for no-JS fallback -->
        <article class="card">
          <div class="thumb" style="background-image:url('Image & logo/Naruto_Shippuden.jpg')"></div>
          <div class="card-body">
            <div class="card-title">Naruto Shippuden</div>
            <div class="card-meta"><span class="pill">Action</span><span class="rating"><span class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ</span> 4.8</span></div>
          </div>
        </article>

        <article class="card">
          <div class="thumb" style="background-image:url('Image & logo/Death_note.jpg')"></div>
          <div class="card-body">
            <div class="card-title">Death Note</div>
            <div class="card-meta"><span class="pill">Thriller</span><span class="rating"><span class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span> 4.9</span></div>
          </div>
        </article>

        <article class="card">
          <div class="thumb" style="background-image:url('Image & logo/The_time_I_got_reincrination.jpg')"></div>
          <div class="card-body">
            <div class="card-title">That Time I Got Reincarnated as a Slime</div>
            <div class="card-meta"><span class="pill">Isekai</span><span class="rating"><span class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ</span> 4.6</span></div>
          </div>
        </article>

        <article class="card">
          <div class="thumb" style="background-image:url('Image & logo/btth.png')"></div>
          <div class="card-body">
            <div class="card-title">Battle Through the Heavens</div>
            <div class="card-meta"><span class="pill">Donghua</span><span class="rating"><span class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ</span> 4.5</span></div>
          </div>
        </article>

        <article class="card">
          <div class="thumb" style="background-image:url('Image & logo/perfect world.avif')"></div>
          <div class="card-body">
            <div class="card-title">Perfect World</div>
            <div class="card-meta"><span class="pill">Donghua</span><span class="rating"><span class="stars">‚≠ê‚≠ê‚≠ê‚òÜ‚òÜ</span> 3.9</span></div>
          </div>
        </article>

        <article class="card">
          <div class="thumb" style="background-image:url('Image & logo/soul land 2.jpg')"></div>
          <div class="card-body">
            <div class="card-title">Soul Land 2</div>
            <div class="card-meta"><span class="pill">Donghua</span><span class="rating"><span class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚òÜ</span> 4.2</span></div>
          </div>
        </article>

        <article class="card">
          <div class="thumb" style="background-image:url('Image & logo/solo leveling season 2.webp')"></div>
          <div class="card-body">
            <div class="card-title">Solo Leveling ‚Äî Season 2</div>
            <div class="card-meta"><span class="pill">Action</span><span class="rating"><span class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span> 4.9</span></div>
          </div>
        </article>

        <article class="card">
          <div class="thumb" style="background-image:url('Image & logo/throne of seal.jpg')"></div>
          <div class="card-body">
            <div class="card-title">Throne Of Seal</div>
            <div class="card-meta"><span class="pill">Action</span><span class="rating"><span class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span> 4.9</span></div>
          </div>
        </article>

      </div>

      <div style="display:flex;justify-content:center;margin-top:18px">
        <a class="btn-ghost" href="#">Load more</a>
      </div>
    </section>

    <footer>
      ¬© 2025 Kitsune ¬∑ Built for anime fans ¬∑ <span style="color:var(--muted)">Privacy ‚Ä¢ Terms</span>
    </footer>
  </div>

  <script>
    // -- UI: Drawer toggle
    const hamburger = document.getElementById('hamburger');
    const drawer = document.getElementById('drawer');
    hamburger.addEventListener('click', () => {
      drawer.classList.toggle('open');
      drawer.setAttribute('aria-hidden', !drawer.classList.contains('open'));
    });

    // Close drawer when clicking outside
    document.addEventListener('click', (e) => {
      if (!drawer.contains(e.target) && !hamburger.contains(e.target)) {
        drawer.classList.remove('open');
      }
    });

    // -- Animation: page entrance (logo + menu slide)
    window.addEventListener('load', () => {
      setTimeout(() => document.body.classList.add('loaded'), 300);
    });

    // -- (Optional) dynamic generation / search hook - replace with real data later
    const titles = [
      {title:'Naruto Shippuden', genre:'Action', rate:4.8},
      {title:'Death Note', genre:'Thriller', rate:4.9},
      {title:'That Time I Got Reincarnated as a Slime', genre:'Isekai', rate:4.6},
      {title:'Battle Through the Heavens', genre:'Donghua', rate:4.5},
      {title:'Perfect World', genre:'Donghua', rate:3.9},
      {title:'Soul Land 2', genre:'Donghua', rate:4.2},
      {title:'Solo Leveling ‚Äî Season 2', genre:'Action', rate:4.9},
    ];

    // If you want to dynamically populate grid (example)
    // const grid = document.getElementById('grid'); // currently placeholders exist

    // -- Small accessibility: focus search on explore button
    document.getElementById('exploreBtn').addEventListener('click', () => {
      document.getElementById('searchInput').focus();
    });

    // -- Side note: if you want the gate animation on navigation from signin/signup,
    // you can add document.body.classList.add('loaded') after the gate opens there.
  </script>
  <script>
const profileBtn = document.getElementById('profileBtn');

if (profileBtn) {
  profileBtn.addEventListener('click', e => {
    e.preventDefault();
    const user = localStorage.getItem('kitsune_user');
    if (user) {
      window.location.href = 'profile.html';
    } else {
      window.location.href = 'signin.html';
    }
  });
}
</script>
<script>
(function() {
  const user = localStorage.getItem("kitsune_user");
  if (!user) window.location.href = "signin.html";
})();
</script>
</body>
</html>